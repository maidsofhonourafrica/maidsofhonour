PORT=5300
HOST=0.0.0.0
NODE_ENV=development

# Server/API URL (use ngrok URL for external callbacks)
API_URL=http://localhost:5300

# Database Configuration
# Option 1: Native WSL Postgres (if you have postgres installed locally)
# DB_HOST=localhost
# DB_PORT=5432

# Option 2: Docker Compose Postgres (recommended for consistency)
DB_HOST=localhost
DB_PORT=5433  # Docker postgres on port 5433 to avoid conflict with native postgres:5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=maidsofhonour

# Database Connection Pool Settings (optional - has sensible defaults)
DB_POOL_MAX=20  # Maximum connections in pool
DB_POOL_MIN=2   # Minimum connections to keep alive
DB_STATEMENT_TIMEOUT=60000  # Query timeout in ms (60 seconds)

# JWT Authentication Configuration
JWT_SECRET=your-secret-key-here-generate-with-openssl-rand-base64-32
CLIENT_ORIGIN=http://localhost:3000

# Redis Configuration (for rate limiting and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Encryption Configuration (for sensitive files: PCC, medical certs, IDs)
# Provider: 'local' (default, free) or 'kms' (AWS KMS, production)
ENCRYPTION_PROVIDER=local

# Local provider (AES-256-GCM) - for development/testing
# Generate with: openssl rand -hex 32
ENCRYPTION_MASTER_KEY=your-64-character-hex-key-generate-with-openssl-rand-hex-32

# AWS Configuration (for KMS encryption + S3 file storage)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# AWS KMS provider (optional) - for production encryption
# AWS_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

# AWS S3 Configuration (for file uploads: KYC documents, photos, videos, contracts)
AWS_S3_BUCKET=your-s3-bucket-name
# Example bucket name: maids-of-honour-uploads-production

# MinIO Configuration (for local development - S3-compatible)
# Uncomment these lines to use MinIO locally instead of AWS S3
# AWS_S3_ENDPOINT=http://localhost:9000
# AWS_S3_FORCE_PATH_STYLE=true
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin123
# AWS_S3_BUCKET=maids-of-honour-uploads

# Smile ID Configuration (Biometric KYC & Phone Verification)
SMILE_ID_PARTNER_ID=your-partner-id-from-smile-id-dashboard
SMILE_ID_API_KEY=your-api-key-from-smile-id-dashboard
SMILE_ID_CALLBACK_URL=https://moh.swix.dev/api/v1/callbacks/smileid
SMILE_ID_SANDBOX=true  # Set to false in production
# Smile ID Lambda URLs (for serverless deployments)
# SMILE_ID_PROD_LAMBDA_URL=https://your-prod-lambda-url
# SMILE_ID_TEST_LAMBDA_URL=https://your-test-lambda-url

# Phone Verification Callback URL (Smile ID async endpoint)
PHONE_VERIFICATION_CALLBACK_URL=https://moh.swix.dev/api/v1/callbacks/phone-verification

# SasaPay Configuration
SASAPAY_BASE_URL=https://sandbox.sasapay.app/api/v1
SASAPAY_CLIENT_ID=your-sasapay-client-id
SASAPAY_CLIENT_SECRET=your-sasapay-client-secret
# Use dedicated SasaPay callback endpoint (with idempotency protection)
# Cloudflare tunnel: moh.swix.dev
SASAPAY_CALLBACK_URL=https://moh.swix.dev/api/sasapay/callback

# WhatsApp Cloud API Configuration
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id
WHATSAPP_ACCESS_TOKEN=your-permanent-access-token
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token-random-string
WHATSAPP_CLOUD_API_VERSION=v21.0
WHATSAPP_CLOUD_API_CALLBACK_URL=https://moh.swix.dev/api/whatsapp/callback

# Monitoring & Logging
SENTRY_DSN=your-sentry-dsn-here
LOG_LEVEL=info  # Options: fatal, error, warn, info, debug, trace


# RESEND
RESEND_API_KEY=your-resend-api-key
# Webhook Secrets (for signature verification)
# SASAPAY_WEBHOOK_SECRET=your-webhook-secret-from-sasapay-dashboard
# WHATSAPP_WEBHOOK_SECRET=your-webhook-verify-token-from-meta

# Optional: Social Auth Providers
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret
